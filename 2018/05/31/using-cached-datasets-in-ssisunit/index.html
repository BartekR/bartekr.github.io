<!DOCTYPE html>
<html lang="en-gb" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="In the previous post, I wrote about using datasets in the ssisUnit test. By default, the dataset query is executed against the data source each time the test is run. But we also have an option to store the dataset&rsquo;s result in the test file. In this post, I will show you how you can use it.\nFirst - why would you want to store the datasets within the test file? Well, maybe you don&rsquo;t want to hammer your database with hundreds of requests to prepare the expected data outcome. And/or you want to have everything in your unit test file, and you don&rsquo;t want to write all that CAST/CONVERT information for the datatypes when preparing the dataset?\n">
<title>Using cached datasets in ssisUnit</title>

<link rel='canonical' href='https://blog.bartekr.net/2018/05/31/using-cached-datasets-in-ssisunit/'>

<link rel="stylesheet" href="/scss/style.min.b9c8156d464c343bdacaf14a871581fb94cbbdb9dd5cbce4ba017361187cc930.css"><meta property='og:title' content="Using cached datasets in ssisUnit">
<meta property='og:description' content="In the previous post, I wrote about using datasets in the ssisUnit test. By default, the dataset query is executed against the data source each time the test is run. But we also have an option to store the dataset&rsquo;s result in the test file. In this post, I will show you how you can use it.\nFirst - why would you want to store the datasets within the test file? Well, maybe you don&rsquo;t want to hammer your database with hundreds of requests to prepare the expected data outcome. And/or you want to have everything in your unit test file, and you don&rsquo;t want to write all that CAST/CONVERT information for the datatypes when preparing the dataset?\n">
<meta property='og:url' content='https://blog.bartekr.net/2018/05/31/using-cached-datasets-in-ssisunit/'>
<meta property='og:site_name' content='BartekR'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='SSIS' /><meta property='article:tag' content='ssisUnit' /><meta property='article:published_time' content='2018-05-31T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2018-05-31T00:00:00&#43;00:00'/><meta property='og:image' content='https://blog.bartekr.net/2018/05/31/using-cached-datasets-in-ssisunit/images/PersistedDatasetInSsisUnitFile.png' />
<meta name="twitter:title" content="Using cached datasets in ssisUnit">
<meta name="twitter:description" content="In the previous post, I wrote about using datasets in the ssisUnit test. By default, the dataset query is executed against the data source each time the test is run. But we also have an option to store the dataset&rsquo;s result in the test file. In this post, I will show you how you can use it.\nFirst - why would you want to store the datasets within the test file? Well, maybe you don&rsquo;t want to hammer your database with hundreds of requests to prepare the expected data outcome. And/or you want to have everything in your unit test file, and you don&rsquo;t want to write all that CAST/CONVERT information for the datatypes when preparing the dataset?\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://blog.bartekr.net/2018/05/31/using-cached-datasets-in-ssisunit/images/PersistedDatasetInSsisUnitFile.png' />
    <link rel="shortcut icon" href="/favicon.ico" />

      <script async src="https://www.googletagmanager.com/gtag/js?id=G-F8HV67CGLR"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-F8HV67CGLR');
        }
      </script><style>
     
    :root {
         
        --base-font-family: "Roboto", "Lato", var(--sys-font-family), var(--zh-font-family), sans-serif;
    }
</style>

<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap";
    
        customFont.type = "text/css";
        customFont.rel = "stylesheet";
    
        document.head.appendChild(customFont);
    }());
</script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky compact">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/Bartek_SqlSatOslo2019_100x100_hu_a5e0b03d3d7e3f6d.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">BartekR</a></h1>
            <p class="site-description">Azure. PowerShell. SQL. DevOps.<br />1 wife. 1 kid. 4 dogs. 5 cats.</p>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/BartekR'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://x.com/b_ratajczyk'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/about' >
                
                
                
                <span>About</span>
            </a>
        </li>
        
        
        <li >
            <a href='https://brinf.wordpress.com' >
                
                
                
                <span>Old blog [PL]</span>
            </a>
        </li>
        
        
        <li >
            <a href='/series' >
                
                
                
                <span>Series</span>
            </a>
        </li>
        
        
        <li >
            <a href='/containers-land' >
                
                
                
                <span>Containers Land</span>
            </a>
        </li>
        
        
        <li >
            <a href='/books' >
                
                
                
                <span>Books</span>
            </a>
        </li>
        
        
        <li >
            <a href='/speaking' >
                
                
                
                <span>Speaking</span>
            </a>
        </li>
        
        
        <li >
            <a href='/categories' >
                
                
                
                <span>Categories</span>
            </a>
        </li>
        
        
        <li >
            <a href='/tags' >
                
                
                
                <span>Tags</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search' >
                
                
                
                <span>Search</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#preparing-the-datatable">Preparing the datatable</a></li>
    <li><a href="#the-data-types">The data types</a></li>
    <li><a href="#to-sum-up">To sum up</a></li>
  </ul>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/2018/05/31/using-cached-datasets-in-ssisunit/">
                
                    <img src="/2018/05/31/using-cached-datasets-in-ssisunit/images/PersistedDatasetInSsisUnitFile.png" loading="lazy" alt="Featured image of post Using cached datasets in ssisUnit" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/series/" >
                Series
            </a>
        
            <a href="/categories/testing/" >
                Testing
            </a>
        
            <a href="/categories/learning/" >
                Learning
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/2018/05/31/using-cached-datasets-in-ssisunit/">Using cached datasets in ssisUnit</a>
        </h2>
    
        

        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">May 31, 2018</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    6 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <p><a class="link" href="http://blog.bartekr.net/2018/04/30/using-connections-and-datasets-in-ssisunit/"  target="_blank" rel="noopener"
    >In the previous post</a>, I wrote about using datasets in the ssisUnit test. By default, the dataset query is executed against the data source each time the test is run. But we also have an option to store the dataset&rsquo;s result in the test file. In this post, I will show you how you can use it.</p>
<p>First - why would you want to store the datasets within the test file? Well, maybe you don&rsquo;t want to hammer your database with hundreds of requests to prepare the expected data outcome. And/or you want to have everything in your unit test file, and you don&rsquo;t want to write all that <code>CAST</code>/<code>CONVERT</code> information for the datatypes when preparing the dataset?</p>
<p>The ssisUnit GUI does not support creating the persisted dataset. If you switch the <em>IsResultsStored</em> flag to true on the dataset&rsquo;s properties, it gives a warning &ldquo;<em>The expected dataset&rsquo;s (&lt;the dataset name&gt;) stored results does not contain data. Populate the Results data table before executing.</em>&rdquo; during the test run.</p>
<p>To find out more about it, take a look at the source code. Open the <code>Dataset.cs</code> file and go to the line 126. There is a method <code>PersistToXml()</code> that writes the <code>Dataset</code> as XML.</p>
<p><a class="link" href="images/PersistToXml.png" >
  
  <p style="text-align: center;">
    <img src="images/PersistToXml.png"
	
	
	
	loading="lazy"
	
		alt="PersistToXml source code"
	
	
>
  </p>

</a></p>
<p>In the lines 146 - 158 it verifies existance of the <code>Results</code> element. If it exists, the XML node <code>results</code> is prepared, and the content of the <code>Results</code> element is saved as CDATA.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">Results</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">xmlWriter</span><span class="p">.</span><span class="n">WriteStartElement</span><span class="p">(</span><span class="s">&#34;results&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">stringWriter</span> <span class="p">=</span> <span class="k">new</span> <span class="n">StringWriter</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Results</span><span class="p">.</span><span class="n">WriteXml</span><span class="p">(</span><span class="n">stringWriter</span><span class="p">,</span> <span class="n">XmlWriteMode</span><span class="p">.</span><span class="n">WriteSchema</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">xmlWriter</span><span class="p">.</span><span class="n">WriteCData</span><span class="p">(</span><span class="n">stringWriter</span><span class="p">.</span><span class="n">ToString</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">xmlWriter</span><span class="p">.</span><span class="n">WriteEndElement</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>The <code>Results</code> object is defined in line 186 - it&rsquo;s stored internally as the <code>DataTable</code> object. So, it must be serialised to store and retrieve it from the saved XML file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="na">[Browsable(false)]</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="n">DataTable</span> <span class="n">Results</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="kd">internal</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span></code></pre></div><p>The recipe for the cached/stored result is easy: use the <code>&lt;results /&gt;</code> element in your <code>.ssisUnit</code> file and fill it with the serialised <code>DataTable</code>.</p>
<h2 id="preparing-the-datatable">Preparing the datatable
</h2><p>I will again use the <code>15_Users_Dataset.dtsx</code> package for testing. I will create <code>15_Users_Dataset_Persisted.ssisUnit</code> file as a copy of the <code>15_Users_Dataset.ssisUnit</code> file and replace the <em>Empty table test: expected dataset</em> as the cached result. To prepare the serialised datatable I used parts of <a class="link" href="https://docs.microsoft.com/pl-pl/dotnet/api/system.data.dataset.writexml?view=netframework-4.7.2#System_Data_DataSet_WriteXml_System_Xml_XmlWriter_System_Data_XmlWriteMode_"  target="_blank" rel="noopener"
    >an example from the documentation</a> and <a class="link" href="http://www.linqpad.net/"  target="_blank" rel="noopener"
    >Linqpad</a>. <a class="link" href="https://github.com/BartekR/ssisUnitLearning/tree/master/Scripts"  target="_blank" rel="noopener"
    >Go to the <code>Scripts</code> folder</a> and open the script <code>15_Users_Dataset_Persisted.linq</code>. The file has some comments, so it should be easy to understand. The main part is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">DataColumn</span> <span class="n">name</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DataColumn</span><span class="p">(</span><span class="s">&#34;Name&#34;</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">String</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="n">name</span><span class="p">.</span><span class="n">MaxLength</span> <span class="p">=</span> <span class="m">50</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">DataColumn</span> <span class="n">login</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DataColumn</span><span class="p">(</span><span class="s">&#34;Login&#34;</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">String</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="n">login</span><span class="p">.</span><span class="n">MaxLength</span> <span class="p">=</span> <span class="m">12</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">login</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&#34;IsActive&#34;</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Boolean</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&#34;Id&#34;</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Int32</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&#34;SourceSystemId&#34;</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Byte</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&#34;IsDeleted&#34;</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Boolean</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Login is char(12), the database has ANSI_PADDING = ON, so pad the string with spaces</span>
</span></span><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Rows</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="kt">object</span><span class="p">[]</span> <span class="p">{</span> <span class="s">&#34;Name 1&#34;</span><span class="p">,</span> <span class="s">&#34;Login 1     &#34;</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">0</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Rows</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="kt">object</span><span class="p">[]</span> <span class="p">{</span> <span class="s">&#34;Name 2&#34;</span><span class="p">,</span> <span class="s">&#34;Login 2     &#34;</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">0</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Rows</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="kt">object</span><span class="p">[]</span> <span class="p">{</span> <span class="s">&#34;Name 3&#34;</span><span class="p">,</span> <span class="s">&#34;Login 3     &#34;</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">0</span> <span class="p">});</span>
</span></span></code></pre></div><p>If you want to use Linqpad - remember to set the language as <em>C# Statement(s)</em> and hit <em>Execute</em> button. The result of the script is as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;NewDataSet&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;xs:schema</span> <span class="na">id=</span><span class="s">&#34;NewDataSet&#34;</span> <span class="na">xmlns=</span><span class="s">&#34;&#34;</span> <span class="na">xmlns:xs=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema&#34;</span> <span class="na">xmlns:msdata=</span><span class="s">&#34;urn:schemas-microsoft-com:xml-msdata&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;NewDataSet&#34;</span> <span class="na">msdata:IsDataSet=</span><span class="s">&#34;true&#34;</span> <span class="na">msdata:MainDataTable=</span><span class="s">&#34;Results&#34;</span> <span class="na">msdata:UseCurrentLocale=</span><span class="s">&#34;true&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;xs:choice</span> <span class="na">minOccurs=</span><span class="s">&#34;0&#34;</span> <span class="na">maxOccurs=</span><span class="s">&#34;unbounded&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Results&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&lt;xs:sequence&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Name&#34;</span> <span class="na">minOccurs=</span><span class="s">&#34;0&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="nt">&lt;xs:simpleType&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;xs:restriction</span> <span class="na">base=</span><span class="s">&#34;xs:string&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                      <span class="nt">&lt;xs:maxLength</span> <span class="na">value=</span><span class="s">&#34;50&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;/xs:restriction&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="nt">&lt;/xs:simpleType&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/xs:element&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Login&#34;</span> <span class="na">minOccurs=</span><span class="s">&#34;0&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="nt">&lt;xs:simpleType&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;xs:restriction</span> <span class="na">base=</span><span class="s">&#34;xs:string&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">                      <span class="nt">&lt;xs:maxLength</span> <span class="na">value=</span><span class="s">&#34;12&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="nt">&lt;/xs:restriction&gt;</span>
</span></span><span class="line"><span class="cl">                  <span class="nt">&lt;/xs:simpleType&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;/xs:element&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;IsActive&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:boolean&#34;</span> <span class="na">minOccurs=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;Id&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:int&#34;</span> <span class="na">minOccurs=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;SourceSystemId&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:unsignedByte&#34;</span> <span class="na">minOccurs=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;xs:element</span> <span class="na">name=</span><span class="s">&#34;IsDeleted&#34;</span> <span class="na">type=</span><span class="s">&#34;xs:boolean&#34;</span> <span class="na">minOccurs=</span><span class="s">&#34;0&#34;</span> <span class="nt">/&gt;</span>
</span></span><span class="line"><span class="cl">              <span class="nt">&lt;/xs:sequence&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nt">&lt;/xs:element&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/xs:choice&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&lt;/xs:complexType&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/xs:element&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/xs:schema&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Results&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Name&gt;</span>Name 1<span class="nt">&lt;/Name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Login&gt;</span>Login 1     <span class="nt">&lt;/Login&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;IsActive&gt;</span>true<span class="nt">&lt;/IsActive&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Id&gt;</span>1<span class="nt">&lt;/Id&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;SourceSystemId&gt;</span>2<span class="nt">&lt;/SourceSystemId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;IsDeleted&gt;</span>false<span class="nt">&lt;/IsDeleted&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/Results&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Results&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Name&gt;</span>Name 2<span class="nt">&lt;/Name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Login&gt;</span>Login 2     <span class="nt">&lt;/Login&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;IsActive&gt;</span>true<span class="nt">&lt;/IsActive&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Id&gt;</span>2<span class="nt">&lt;/Id&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;SourceSystemId&gt;</span>2<span class="nt">&lt;/SourceSystemId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;IsDeleted&gt;</span>false<span class="nt">&lt;/IsDeleted&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/Results&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;Results&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Name&gt;</span>Name 3<span class="nt">&lt;/Name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Login&gt;</span>Login 3     <span class="nt">&lt;/Login&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;IsActive&gt;</span>false<span class="nt">&lt;/IsActive&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;Id&gt;</span>3<span class="nt">&lt;/Id&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;SourceSystemId&gt;</span>2<span class="nt">&lt;/SourceSystemId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;IsDeleted&gt;</span>false<span class="nt">&lt;/IsDeleted&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&lt;/Results&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/NewDataSet&gt;</span>
</span></span></code></pre></div><p>In the <code>.ssisUnit</code> test file, the <code>&lt;NewDataSet /&gt;</code> element should be wrapped in the <code>&lt;result /&gt;</code> as <code>CDATA</code>:</p>
<p><a class="link" href="images/PersistedDatasetInSsisUnitFile.png" >
  
  <p style="text-align: center;">
    <img src="images/PersistedDatasetInSsisUnitFile.png"
	
	
	
	loading="lazy"
	
		alt="Persisted dataset in ssisUnit file"
	
	
>
  </p>

</a></p>
<p>The part that took me a lot of time to figure out was the <em>Login</em> column. In the database, it has <code>char(12)</code> data type. It is very dependent on the <a class="link" href="https://docs.microsoft.com/en-us/sql/t-sql/statements/set-ansi-padding-transact-sql?view=sql-server-2017"  target="_blank" rel="noopener"
    ><code>ANSI_PADDING</code></a> setting. The recommended setting is <code>ANSI_PADDING ON</code>, which means it pads the strings with trailing spaces for the char data type columns. And that&rsquo;s the setting for the <em>ssisUnitLearningDB</em> - the database used for this blog post series.</p>
<p>How does it affect the test? When you persist the char column in the test file, you have to also pad the string with spaces if the column was created with <code>ANSI_PADDING ON</code> setting. If you don&rsquo;t pad the string column, the test will not pass. To illustrate it I prepared some additional datasets and assertions.</p>
<p><a class="link" href="images/15_Users_Dataset_Persisted.png" >
  
  <p style="text-align: center;">
    <img src="images/15_Users_Dataset_Persisted.png"
	
	
	
	loading="lazy"
	
		alt="Additional persisted dataset tests"
	
	
>
  </p>

</a></p>
<p>I&rsquo;m testing different dataset settings and how it affects the assertions results. Even if you set the dataset as persisted, ssisUnit expects the query, so I&rsquo;m mostly using T-SQL&rsquo;s comment <code>--</code>as a placeholder. But I also checked if it has to be the same query as I used to prepare the persisted dataset. Running the test you will see, that without padding the <em>Login</em> column data the assertions don&rsquo;t return <em>True</em>.</p>
<h2 id="the-data-types">The data types
</h2><p>When you create the <code>DataTable</code> object you add the columns of the specific type, like</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">table</span><span class="p">.</span><span class="n">Columns</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&#34;Id&#34;</span><span class="p">,</span> <span class="k">typeof</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Int32</span><span class="p">))</span>
</span></span></code></pre></div><p>How do you know what types you should use? You can guess of course (I did!), but you don&rsquo;t have to. Take a look at the <code>RetrieveDataTable()</code> method in the <code>DataTable.cs</code> file (especially the lines 216 - 237). This is how ssisUnit converts the query result to the <code>DataTable</code> object for further comparison:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(!</span><span class="n">IsResultsStored</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">command</span> <span class="p">=</span> <span class="n">Helper</span><span class="p">.</span><span class="n">GetCommand</span><span class="p">(</span><span class="n">ConnectionRef</span><span class="p">,</span> <span class="n">Query</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">command</span><span class="p">.</span><span class="n">Connection</span><span class="p">.</span><span class="n">Open</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">using</span> <span class="p">(</span><span class="n">IDataReader</span> <span class="n">expectedReader</span> <span class="p">=</span> <span class="n">command</span><span class="p">.</span><span class="n">ExecuteReader</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">var</span> <span class="n">ds</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DataSet</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="n">ds</span><span class="p">.</span><span class="n">Load</span><span class="p">(</span><span class="n">expectedReader</span><span class="p">,</span> <span class="n">LoadOption</span><span class="p">.</span><span class="n">OverwriteChanges</span><span class="p">,</span> <span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="s">&#34;Results&#34;</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">ds</span><span class="p">.</span><span class="n">Tables</span><span class="p">.</span><span class="n">Count</span> <span class="p">&lt;</span> <span class="m">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">throw</span> <span class="k">new</span> <span class="n">ApplicationException</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                    <span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                        <span class="n">CultureInfo</span><span class="p">.</span><span class="n">CurrentCulture</span><span class="p">,</span> <span class="s">&#34;The dataset (\&#34;{0}\&#34;) did not retrieve any data.&#34;</span><span class="p">,</span> <span class="n">Name</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">ds</span><span class="p">.</span><span class="n">Tables</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>I took this part of the code (along with the <code>Helper.GetCommand()</code>) and expanded it with writing metadata of the <code>DataTable</code> object. I use Linqpad and its <code>Dump()</code> method to quickly see the content. The full script <code>GetDataTableMetadata.linq</code> is located <a class="link" href="https://github.com/BartekR/ssisUnitLearning/tree/master/Scripts"  target="_blank" rel="noopener"
    >in the <code>Scripts</code> directory</a> of the project.</p>
<p><a class="link" href="images/GetDataTableMetadata.png" >
  
  <p style="text-align: center;">
    <img src="images/GetDataTableMetadata.png"
	
	
	
	loading="lazy"
	
		alt="GetTableMetadata output"
	
	
>
  </p>

</a></p>
<p>As you can see, the <em>Login</em> column has Length == 12 and MaxLength == 12. It means, that string is padded with blanks. Also notice, that the <em>bit</em> column is mapped to <em>System.Boolean</em> and the <em>tinyint</em> column is mapped to <em>System.Int32</em> - just like <em>Int</em>.</p>
<h2 id="to-sum-up">To sum up
</h2><p>If you want to store the dataset in the test file - no problem. The ssisUnit GUI does not support it, but the engine does. Use provided scripts to get the metadata of the dataset and serialise the prepared dataset. Then set the <em>IsResultsStored</em> flag to <em>True</em> and paste the serialised code directly to the ssisUnit file using <code>&lt;results /&gt;</code> and <code>CDATA</code>.</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/ssis/">SSIS</a>
        
            <a href="/tags/ssisunit/">SsisUnit</a>
        
    </section>


    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/2018/04/30/using-connections-and-datasets-in-ssisunit/">
        
        
            <div class="article-image">
                
                    <img src="/2018/04/30/using-connections-and-datasets-in-ssisunit/images/Dataset.png" loading="lazy" data-key="" data-hash="/2018/04/30/using-connections-and-datasets-in-ssisunit/images/Dataset.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Using Connections and Datasets in ssisUnit</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/2018/04/13/testing-database-connections-with-ssisunit/">
        
        
            <div class="article-image">
                
                    <img src="/2018/04/13/testing-database-connections-with-ssisunit/images/PackageOutline.png" loading="lazy" data-key="" data-hash="/2018/04/13/testing-database-connections-with-ssisunit/images/PackageOutline.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Testing database connections with ssisUnit</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/2018/03/26/writing-first-tests-with-ssisunit/">
        
        
            <div class="article-image">
                
                    <img src="/2018/03/19/testing-ssis-projects-with-ssisunit/images/ssisUnit_HeaderImage.png" loading="lazy" data-key="" data-hash="/2018/03/19/testing-ssis-projects-with-ssisunit/images/ssisUnit_HeaderImage.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Writing first tests with ssisUnit</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/2018/03/19/testing-ssis-projects-with-ssisunit/">
        
        
            <div class="article-image">
                
                    <img src="/2018/03/19/testing-ssis-projects-with-ssisunit/images/ssisUnit_HeaderImage.png" loading="lazy" data-key="" data-hash="/2018/03/19/testing-ssis-projects-with-ssisunit/images/ssisUnit_HeaderImage.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Testing SSIS Projects with ssisUnit</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/2018/02/28/upgrading-ssis-projects-part-iii/">
        
        
            <div class="article-image">
                
                    <img src="/2017/12/24/upgrading-ssis-projects-part-i/images/TargetServerVersion2017.png" loading="lazy" data-key="" data-hash="/2017/12/24/upgrading-ssis-projects-part-i/images/TargetServerVersion2017.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Upgrading SSIS projects - part III</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="BartekR/bartekr.github.io"
        issue-term="url"
        
        label="blog-comment"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2017 - 
        
        2025 BartekR
    </section>
    
    <section class="powerby">
        
            (c) Bartosz Ratajczyk <br/>
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.30.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
