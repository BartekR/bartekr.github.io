<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Docker on BartekR</title>
        <link>https://blog.bartekr.net/tags/docker/</link>
        <description>Recent content in Docker on BartekR</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-gb</language>
        <lastBuildDate>Sun, 18 May 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.bartekr.net/tags/docker/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Containers Land: Docker Basics</title>
        <link>https://blog.bartekr.net/2025/05/18/containers-land-docker-basics/</link>
        <pubDate>Sun, 18 May 2025 00:00:00 +0000</pubDate>
        
        <guid>https://blog.bartekr.net/2025/05/18/containers-land-docker-basics/</guid>
        <description>&lt;img src="https://blog.bartekr.net/2025/05/18/containers-land-docker-basics/images/docker_cli.png" alt="Featured image of post Containers Land: Docker Basics" /&gt;&lt;p&gt;Whole series, assumptions, and map: &lt;a class=&#34;link&#34; href=&#34;https://blog.bartekr.net/containers-land&#34; &gt;Container Lands&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The morning was quite chilly. You stood in the hut&amp;rsquo;s open doorway of the hut and watched the rising sun. You know you need to leave the cosy WSL2 village soon. &amp;ldquo;Tomorrow&amp;rdquo;, you think, and grab your stuff. Time for the morning training.&lt;/p&gt;
&lt;h2 id=&#34;using-basic-commands&#34;&gt;Using basic commands
&lt;/h2&gt;&lt;p&gt;As the warm up, you run few commands to stretch your fingers: &lt;code&gt;docker ps&lt;/code&gt;, &lt;code&gt;docker run hello-world&lt;/code&gt;, &lt;code&gt;docker image rm hello-world --force&lt;/code&gt;, &lt;code&gt;docker image ls&lt;/code&gt;, &lt;code&gt;docker pull nginx&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You stop. &amp;ldquo;Too fast&amp;rdquo;, you think. Although your fingers run as if they were doing it thousands of times, you take a breath and repeat the commands, slower. Adding more steps and context.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# list all running containers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker ps
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# list all running containers, be more explicit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container ps
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# run the container using basic docker image; all tutorials use it, so why not - it&amp;#39;s a warm up&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run hello-world
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# run the container again, be more explicit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container run hello-world
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# run the container again, be even more explicit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container run hello-world:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# run one more hello-world container, be as explicit as you can - even add the default repository name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container run docker.io/hello-world:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# show all containers, even the ones not active&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker ps -a
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# show all containers, even the ones not active, be explicit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container ps -a
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:~$ docker container ps -a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# CONTAINER ID   IMAGE                COMMAND    CREATED         STATUS                     PORTS     NAMES&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 7f5ad6d558a6   hello-world:latest   &amp;#34;/hello&amp;#34;   2 minutes ago   Exited (0) 2 minutes ago             trusting_rhodes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 5872980752a4   hello-world:latest   &amp;#34;/hello&amp;#34;   2 minutes ago   Exited (0) 2 minutes ago             objective_feistel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# f51f0ca12cb7   hello-world          &amp;#34;/hello&amp;#34;   2 minutes ago   Exited (0) 2 minutes ago             inspiring_beaver&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# remove container using id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker rm 7f5ad6d558a6
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# remove another container using its name, be more explicit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container rm inspiring_beaver
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# remove all remaining stopped containers, use --force, so it does not ask for confirmation&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container prune --force
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&amp;ldquo;Break&amp;rdquo;, you say. Repeating containers basics with so attention to detail is tiring. Yet, you summarise the first part:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;by default, Docker assumes you work with containers, so usually you omit the &lt;code&gt;container&lt;/code&gt; part in the commands&lt;/li&gt;
&lt;li&gt;the default repository is Docker Hub (docker.io), no need to provide it if you need images from there&lt;/li&gt;
&lt;li&gt;you can provide the &lt;code&gt;:latest&lt;/code&gt; tag, but it&amp;rsquo;s not required - by default you get the latest version&lt;/li&gt;
&lt;li&gt;&lt;em&gt;hello-world&lt;/em&gt; container prints the information on the screen and exits - we are back in the terminal after command stops running&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;After a few minutes, you stretch, take a breath, and run a second round.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# run hello world container again, and give it your own name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container run --name hw1 hello-world:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# docker run fetches image from repository if it is not available locally, so this time split the operations into two steps&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# first - fetch latest nginx image&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker pull nginx:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# second - run the container using the pulled image, give it your own name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container run --name nginx1 nginx:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# unlike the previous docker run commands - this time we started the container, and we are still inside - no prompt available&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:~$ docker container run --name nginx1 nginx:latest&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /docker-entrypoint.sh: Looking for shell scripts in /docker-entrypoint.d/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 in /etc/nginx/conf.d/default.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /docker-entrypoint.sh: Configuration complete; ready for start up&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:11:57 [notice] 1#1: using the &amp;#34;epoll&amp;#34; event method&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:11:57 [notice] 1#1: nginx/1.27.5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:11:57 [notice] 1#1: built by gcc 12.2.0 (Debian 12.2.0-14)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:11:57 [notice] 1#1: OS: Linux 5.15.167.4-microsoft-standard-WSL2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:11:57 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:11:57 [notice] 1#1: start worker processes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:11:57 [notice] 1#1: start worker process 29&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# (...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:11:57 [notice] 1#1: start worker process 56&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Hit Ctrl+C to exit and stop the container&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ^C2025/05/18 10:16:54 [notice] 1#1: signal 2 (SIGINT) received, exiting&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:16:54 [notice] 31#31: exiting&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:16:54 [notice] 31#31: exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:16:54 [notice] 29#29: exiting&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# (...)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:16:54 [notice] 1#1: worker process 29 exited with code 0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:16:54 [notice] 1#1: signal 17 (SIGCHLD) received from 42&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:16:54 [notice] 1#1: worker process 42 exited with code 0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2025/05/18 10:16:54 [notice] 1#1: exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# run the container in the background (aka &amp;#34;detached mode&amp;#34; -d/--detach)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container run -d --name nginx2 nginx:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# nice, back in the prompt, use another method to list all containers (including inactive)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container ls -a
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:~$ docker container ls -a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# CONTAINER ID   IMAGE                COMMAND                  CREATED              STATUS                      PORTS     NAMES&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 7e1c115bd021   nginx:latest         &amp;#34;/docker-entrypoint.…&amp;#34;   About a minute ago   Up 59 seconds               80/tcp    nginx2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3d4c46d46447   nginx:latest         &amp;#34;/docker-entrypoint.…&amp;#34;   7 minutes ago        Exited (0) 2 minutes ago              nginx1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 7e5d48855261   hello-world:latest   &amp;#34;/hello&amp;#34;                 12 minutes ago       Exited (0) 12 minutes ago             hw1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# container nginx2 is up and running, and nginx listens on port 80, check it&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl localhost:80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:~$ curl localhost:80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# curl: (7) Failed to connect to localhost port 80 after 1 ms: Couldn&amp;#39;t connect to server&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# publish container&amp;#39;s ports during container creation (-p/--publish) to use them&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container run --detach --name nginx3 --publish 80:80 nginx:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# CONTAINER ID   IMAGE                COMMAND                  CREATED              STATUS                      PORTS                               NAMES&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 6dc82ca97b27   nginx:latest         &amp;#34;/docker-entrypoint.…&amp;#34;   About a minute ago   Up About a minute           0.0.0.0:80-&amp;gt;80/tcp, :::80-&amp;gt;80/tcp   nginx3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 7e1c115bd021   nginx:latest         &amp;#34;/docker-entrypoint.…&amp;#34;   13 minutes ago       Up 13 minutes               80/tcp                              nginx2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3d4c46d46447   nginx:latest         &amp;#34;/docker-entrypoint.…&amp;#34;   19 minutes ago       Exited (0) 14 minutes ago                                       nginx1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 7e5d48855261   hello-world:latest   &amp;#34;/hello&amp;#34;                 24 minutes ago       Exited (0) 24 minutes ago                                       hw1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# test the port now&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl localhost:80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:~$ curl localhost:80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;html&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;head&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;title&amp;gt;Welcome to nginx!&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# I don&amp;#39;t like being exposed everywhere (0.0.0.0), limit to localhost&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container run --detach --name nginx4 --publish 127.0.0.1:80:80 nginx:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# error - the port is already in use&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# docker: Error response from daemon: driver failed programming external connectivity on endpoint nginx4 (e1f51be7fc10ad848a30a746c40cede978b366b949eaf1286a9fab3dc3444b75): failed to bind port 127.0.0.1:80/tcp: Error starting userland proxy: listen tcp4 127.0.0.1:80: bind: address already in use.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# clean up nginx4, and use local port 81&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker rm nginx4 --force
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container run --detach --name nginx4 --publish 127.0.0.1:81:80 nginx:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:~$ docker container ls -a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# CONTAINER ID   IMAGE                COMMAND                  CREATED              STATUS                      PORTS                               NAMES&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 35c54f5e00da   nginx:latest         &amp;#34;/docker-entrypoint.…&amp;#34;   6 seconds ago        Up 5 seconds                127.0.0.1:81-&amp;gt;80/tcp                nginx4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 6dc82ca97b27   nginx:latest         &amp;#34;/docker-entrypoint.…&amp;#34;   About a minute ago   Up About a minute           0.0.0.0:80-&amp;gt;80/tcp, :::80-&amp;gt;80/tcp   nginx3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 7e1c115bd021   nginx:latest         &amp;#34;/docker-entrypoint.…&amp;#34;   13 minutes ago       Up 13 minutes               80/tcp                              nginx2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3d4c46d46447   nginx:latest         &amp;#34;/docker-entrypoint.…&amp;#34;   19 minutes ago       Exited (0) 14 minutes ago                                       nginx1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 7e5d48855261   hello-world:latest   &amp;#34;/hello&amp;#34;                 24 minutes ago       Exited (0) 24 minutes ago                                       hw1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# test the port again&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl localhost:81
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:~$ curl localhost:81&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;html&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;head&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;title&amp;gt;Welcome to nginx!&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&amp;ldquo;Whoa!&amp;rdquo;. You are a little tired, but happy. Second round summary:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;containers exit on completion, but usually they are running until stopped - use &lt;em&gt;detached mode&lt;/em&gt; (&lt;code&gt;-d&lt;/code&gt; / &lt;code&gt;--detach&lt;/code&gt;) to run them in the background&lt;/li&gt;
&lt;li&gt;if the container exposes a port, you need to &lt;code&gt;--publish&lt;/code&gt; it (or &lt;code&gt;-p&lt;/code&gt; for short) if you plan to use it&lt;/li&gt;
&lt;li&gt;only one container can use one host&amp;rsquo;s port (like: each nginx&amp;rsquo;s container port has to be mapped to a separate host port)&lt;/li&gt;
&lt;li&gt;when publishing ports, first part is the host (IP:port), the second part is the container&lt;/li&gt;
&lt;li&gt;if only port is provided for host, the container&amp;rsquo;s port is exposed to &lt;code&gt;0.0.0.0&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;sidenote&lt;/em&gt;: while oftentimes using 0.0.0.0 or 127.0.0.1 makes no difference, there is one important thing:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;127.0.0.1&lt;/code&gt; means localhost, and is available only from the local computer&lt;/li&gt;
&lt;li&gt;&lt;code&gt;0.0.0.0&lt;/code&gt; means &lt;em&gt;all defined IPv4 addresses on this machine&lt;/em&gt; - so if you are connected to the network, and have assigned network IP address(es) (example: 10.0.0.4, 192.168.1.4) - all these addresses have port opened, and can be reached from another machine&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;p&gt;The last, third round. You want to confirm the assumption: &amp;ldquo;I see the same content, when I run &lt;code&gt;curl localhost:80&lt;/code&gt; and &lt;code&gt;curl localhost:81&lt;/code&gt; commands. How can I be sure they are not served from one place?&amp;rdquo;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;#34;connect&amp;#34; to container&amp;#39;s shell, and modify the index.html file - write &amp;#34;Hello from &amp;lt;container name&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# after execution - pay attention, you are now in the container&amp;#39;s shell - your prompt is now root@&amp;lt;container id&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it nginx3 bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;in the container&amp;gt; by default, nginx uses /usr/share/nginx/html to store HTML content, edit it&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ls /usr/share/nginx/html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# root@6dc82ca97b27:/# ls /usr/share/nginx/html&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 50x.html  index.html&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;in the container&amp;gt; there is neither vi or nano, so overwrite the content from the prompt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;lt;h1&amp;gt;Hello from nginx3, 6dc82ca97b27&amp;lt;/h1&amp;gt;&amp;#39;&lt;/span&gt; &amp;gt; /usr/share/nginx/html/index.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /usr/share/nginx/html/index.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# root@6dc82ca97b27:/# echo &amp;#39;&amp;lt;h1&amp;gt;Hello from nginx3, 6dc82ca97b27&amp;lt;/h1&amp;gt;&amp;#39; &amp;gt; /usr/share/nginx/html/index.html&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# root@6dc82ca97b27:/# cat /usr/share/nginx/html/index.html&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;h1&amp;gt;Hello from nginx3, 6dc82ca97b27&amp;lt;/h1&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;in the container&amp;gt; leave the container, and return to the command prompt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# root@6dc82ca97b27:/# exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# repeat with the second nginx container, be more explicit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; --interactive --tty nginx4 bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;in the container&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;lt;h1&amp;gt;Hello from nginx4, 35c54f5e00da&amp;lt;/h1&amp;gt;&amp;#39;&lt;/span&gt; &amp;gt; /usr/share/nginx/html/index.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /usr/share/nginx/html/index.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# back in the host&amp;#39;s prompt, fetch again pages from both running nginx containers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl localhost:80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl localhost:81
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:~$ curl localhost:80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;h1&amp;gt;Hello from nginx3, 6dc82ca97b27&amp;lt;/h1&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bartekr@Kelsier:~$ curl localhost:81&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# &amp;lt;h1&amp;gt;Hello from nginx4, 35c54f5e00da&amp;lt;/h1&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nice. The third round showed:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;executing commands in running containers&lt;/li&gt;
&lt;li&gt;nginx containers run with the &lt;code&gt;root&lt;/code&gt; user&lt;/li&gt;
&lt;li&gt;ports from the container need to be explicitly published to be available on the host&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Uff. Enough. Time for cleanup.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# remove hello-world container and the image using separate commands for clarity&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container rm hw1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker image rm hello-world
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# remove all nginx containers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker container rm &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;docker container ls -qa&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt; --force
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# remove nginx image&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker image rm nginx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Wait wait wait. What is the &lt;code&gt;docker container rm $(docker container ls -qa) --force&lt;/code&gt; command doing?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker container ls -a&lt;/code&gt; - show all containers, even inactive ones&lt;/li&gt;
&lt;li&gt;&lt;code&gt;docker container ls -q&lt;/code&gt; - show only identifiers of all active containers&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The command forcibly (&lt;code&gt;--force&lt;/code&gt;) removes (&lt;code&gt;rm&lt;/code&gt;) all (&lt;code&gt;-a&lt;/code&gt;) containers (&lt;code&gt;container&lt;/code&gt;), taking the identifiers (&lt;code&gt;$(docker container ls -qa)&lt;/code&gt;) as input. It works on Linux, not on Windows.&lt;/p&gt;
&lt;p&gt;Training is over. It&amp;rsquo;s already afternoon, so you take your gear, and go for lunch. Looking behind you, you see &lt;strong&gt;+200 XP&lt;/strong&gt;, and you glow for a moment. &amp;ldquo;Next level!&amp;rdquo; you smile, and as you receive another point, add it to your stats. Why not &lt;em&gt;Endurance&lt;/em&gt;?&lt;/p&gt;







&lt;div style=&#34;display: flex; align-items: flex-start;&#34;&gt;
    
    
    &lt;table style=&#34;border-collapse: collapse; width: 100%;&#34;&gt;
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Strength&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;7&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Agility&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Endurance&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;5 -&amp;gt; 6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Perception&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Cunning&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Charisma&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;4&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Level 2&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;XP 300 / 800&lt;/td&gt;
            &lt;/tr&gt;
        
        
    &lt;/table&gt;
    &lt;img src=&#34;https://blog.bartekr.net/img/rpg/Jaesika%20Kelamin%20-%20Deorum%20character.png&#34; alt=&#34;RPG Character&#34; style=&#34;max-width: 350px; height: auto;&#34;&gt;&lt;/div&gt;
  
</description>
        </item>
        <item>
        <title>Containers Land: Docker setup on WSL2</title>
        <link>https://blog.bartekr.net/2025/05/01/containers-land-docker-setup-on-wsl2/</link>
        <pubDate>Thu, 01 May 2025 00:00:00 +0000</pubDate>
        
        <guid>https://blog.bartekr.net/2025/05/01/containers-land-docker-setup-on-wsl2/</guid>
        <description>&lt;img src="https://blog.bartekr.net/2025/05/01/containers-land-docker-setup-on-wsl2/images/containers_land_01.png" alt="Featured image of post Containers Land: Docker setup on WSL2" /&gt;&lt;p&gt;Whole series, assumptions, and map: &lt;a class=&#34;link&#34; href=&#34;https://blog.bartekr.net/containers-land&#34; &gt;Container Lands&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The story starts slowly in a small village close to the YAML Mountains. Before you leave your house to learn about containers, you must install Docker. You are brave, you are strong, and you have a Windows operating system. And you want to use WSL2&amp;hellip;&lt;/p&gt;
&lt;h2 id=&#34;-leaving-docker-desktop-behind&#34;&gt;&amp;hellip; leaving Docker Desktop behind
&lt;/h2&gt;&lt;p&gt;Wait. What? Stop for a second. Why not Docker Desktop? It&amp;rsquo;s easy, intuitive, and free? Three reasons, my friend:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It&amp;rsquo;s free for personal use use. Companies need to pay a fee, and sometimes they do not want to buy commercial software hence - use of the docker command in the WSL2 terminal&lt;/li&gt;
&lt;li&gt;I suck at Linux. I know a few commands and some basics (I know how to exit vim!), but I&amp;rsquo;m far from feeling comfortable. I like Ubuntu; I used it a while ago, so why not use it again and upgrade some skills along the way?&lt;/li&gt;
&lt;li&gt;I want to run all commands by hand and remember as many as I can - so I use a terminal&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;If you do not have WSL2 installed, the recent documentation version suggests running the following command in an elevated prompt (as administrator) and restarting your computer:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wsl.exe --install&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This installs the default Ubuntu distribution, but it can sometimes cause issues (in my case - problems with &lt;code&gt;systemctl&lt;/code&gt; and running Docker as daemon), so I use the latest Ubuntu distribution by executing&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wsl.exe --install -d Ubuntu-24.04&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To get the distributions list, execute the command &lt;code&gt;wsl.exe --list --online&lt;/code&gt; and select the value from the left column (NAME) as a parameter. For more information - &lt;a class=&#34;link&#34; href=&#34;https://learn.microsoft.com/en-us/windows/wsl/install&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;visit the official documentation&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;installing-docker-on-wsl&#34;&gt;Installing Docker on WSL
&lt;/h2&gt;&lt;p&gt;While there are installation steps &lt;a class=&#34;link&#34; href=&#34;https://docs.docker.com/engine/install/ubuntu/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;in the official documentation&lt;/a&gt;, I use the way I read a long time ago at &lt;a class=&#34;link&#34; href=&#34;https://nickjanetakis.com/blog/install-docker-in-wsl-2-without-docker-desktop&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Nick Janetakis&amp;rsquo; blog&lt;/a&gt;. I run a sequence of the following commands one by one (not in a script):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Install Docker; you can ignore the warning from Docker about using WSL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -fsSL https://get.docker.com -o get-docker.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo sh get-docker.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Add your user to the Docker group&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo usermod -aG docker &lt;span class=&#34;nv&#34;&gt;$USER&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Sanity check that both tools were installed successfully&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker --version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker compose version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Using Ubuntu 22.04 or Debian 10+? You need to do 1 extra step for iptables&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# compatibility, you&amp;#39;ll want to choose option (1) to use iptables-legacy from&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# the prompt that&amp;#39;ll come up when running the command below.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# You&amp;#39;ll likely need to reboot Windows or at least restart WSL after applying&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# this, otherwise networking inside of your containers won&amp;#39;t work.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo update-alternatives --config iptables
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As of May 2025, this set of commands is enough to get &lt;code&gt;docker&lt;/code&gt; and &lt;code&gt;docker-compose&lt;/code&gt; up and running. If something is not working, restart your WSL session.&lt;/p&gt;
&lt;p&gt;Well, this was quick—like a very short game prologue. Nevertheless, you earn 100 XP and deserve 1 point to upgrade your statistics. I choose Perception +1&lt;/p&gt;







&lt;div style=&#34;display: flex; align-items: flex-start;&#34;&gt;
    
    
    &lt;table style=&#34;border-collapse: collapse; width: 100%;&#34;&gt;
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Strength&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;7&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Agility&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Endurance&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;5&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Perception&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;5 -&amp;gt; 6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Cunning&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Charisma&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;4&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Level 1&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt; XP 100 / 300&lt;/td&gt;
            &lt;/tr&gt;
        
        
    &lt;/table&gt;
    &lt;img src=&#34;https://blog.bartekr.net/img/rpg/Jaesika%20Kelamin%20-%20Deorum%20character.png&#34; alt=&#34;RPG Character&#34; style=&#34;max-width: 350px; height: auto;&#34;&gt;&lt;/div&gt;
  
</description>
        </item>
        <item>
        <title>Have problems with Docker Desktop for Windows Home? Yeah, me too!</title>
        <link>https://blog.bartekr.net/2020/09/01/have-problems-with-docker-desktop-for-windows-home-yeah-me-too/</link>
        <pubDate>Tue, 01 Sep 2020 00:00:00 +0000</pubDate>
        
        <guid>https://blog.bartekr.net/2020/09/01/have-problems-with-docker-desktop-for-windows-home-yeah-me-too/</guid>
        <description>&lt;img src="https://blog.bartekr.net/2020/09/01/have-problems-with-docker-desktop-for-windows-home-yeah-me-too/images/DockerDesktop.png" alt="Featured image of post Have problems with Docker Desktop for Windows Home? Yeah, me too!" /&gt;&lt;p&gt;Last week finally came that day: &amp;ldquo;I will give a shot to a Docker Desktop for Windows 10 Home&amp;rdquo;. To make it possible I run a long-postponed Windows Update to version 2004 (it allows to use WSL2). The upgrade and installation went smoothly, but the docker refused to cooperate.&lt;/p&gt;
&lt;p&gt;Well, that was unexpected. Up to now, I worked with docker mostly on Ubuntu 18.04 and sometimes Windows Server 2016 / Windows 10 Professional. Also at home, I prepared a working environment consisting of Windows 10 Home + WSL + VirtualBox. The last one for hosting an Ubuntu virtual machine, as it&amp;rsquo;s not possible to run Docker Desktop on Windows 10 Home or run a docker daemon in WSL. I configured it with a very helpful posts from Nick Janetakis (&lt;a class=&#34;link&#34; href=&#34;https://nickjanetakis.com/blog/setting-up-docker-for-windows-and-wsl-to-work-flawlessly&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://nickjanetakis.com/blog/setting-up-docker-for-windows-and-wsl-to-work-flawlessly&lt;/a&gt;, &lt;a class=&#34;link&#34; href=&#34;https://nickjanetakis.com/blog/docker-tip-73-connecting-to-a-remote-docker-daemon&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://nickjanetakis.com/blog/docker-tip-73-connecting-to-a-remote-docker-daemon&lt;/a&gt;). Now, with WSL2 I could eliminate VirtualBox from the ecosystem.&lt;/p&gt;
&lt;p&gt;After the installation and some restarts I opened the PowerShell, wrote &lt;code&gt;docker version&lt;/code&gt; and got the message: &lt;em&gt;&amp;ldquo;unable to resolve docker endpoint: open C:\Users\BartekR\.docker\machine\machines\default\ca.pem: The system cannot find the path specified&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The problem might occur because I was testing a Docker Toolbox a long time ago, and the uninstaller might not delete all the settings. The solution: change the &lt;code&gt;DOCKER_CERT_PATH&lt;/code&gt; environment variable. To list all docker related variables I run this in PowerShell:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;Get-ChildItem&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;Where-Object&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$_&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;py&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-like&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;DOCKER\*&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Name&lt;/span&gt;                 &lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;----&lt;/span&gt;                 &lt;span class=&#34;p&#34;&gt;-----&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DOCKER_CERT_PATH&lt;/span&gt;     &lt;span class=&#34;n&#34;&gt;C:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Users&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BartekR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;docker&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;machine&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;machines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DOCKER_HOST&lt;/span&gt;          &lt;span class=&#34;n&#34;&gt;tcp&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;py&#34;&gt;99&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;2376&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DOCKER_MACHINE_NAME&lt;/span&gt;  &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DOCKER_TLS_VERIFY&lt;/span&gt;    &lt;span class=&#34;mf&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The correct value is &lt;code&gt;(...)\.docker\machine\certs&lt;/code&gt;, so I changed to &lt;code&gt;C:\Users\BartekR\.docker\machine\certs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Excellent. Again: &lt;code&gt;docker version&lt;/code&gt;: &lt;em&gt;&amp;ldquo;error during connect: Post &lt;a class=&#34;link&#34; href=&#34;http://192.168.99.100:2376/v1.40/containers/create&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://192.168.99.100:2376/v1.40/containers/create&lt;/a&gt;: dial tcp [::1]:2376: connectex: No connection could be made because the target machine actively refused it&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Again - most probably - Docker Toolbox (see: &lt;a class=&#34;link&#34; href=&#34;https://docs.docker.com/toolbox/faqs/troubleshoot/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://docs.docker.com/toolbox/faqs/troubleshoot/&lt;/a&gt;) - it uses the &lt;code&gt;(...).100:2376&lt;/code&gt; theme for the docker daemon. So I changed the &lt;code&gt;DOCKER_HOST&lt;/code&gt; address to &lt;code&gt;tcp://localhost:2375&lt;/code&gt; and now it should work.&lt;/p&gt;
&lt;p&gt;Should it?&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker version&lt;/code&gt;: &lt;em&gt;&amp;ldquo;error during connect: Get https://localhost:2375/v1.40/containers/json: http: server gave HTTP response to HTTPS client&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;What now? On Windows, you have to check the checkbox &lt;em&gt;&amp;ldquo;Expose daemon on &amp;lt;DOCKER_HOST&amp;gt; without TLS&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;images/DockerDesktopEnableTLSWithoutTLS.png&#34; &gt;
&lt;img src=&#34;images/DockerDesktopEnableTLSWithoutTLS-600x92.png&#34;
	width=&#34;600&#34;
	height=&#34;92&#34;
	srcset=&#34;https://blog.bartekr.net/2020/09/01/have-problems-with-docker-desktop-for-windows-home-yeah-me-too/images/DockerDesktopEnableTLSWithoutTLS-600x92_hu_7d81873b92c56142.png 480w, https://blog.bartekr.net/2020/09/01/have-problems-with-docker-desktop-for-windows-home-yeah-me-too/images/DockerDesktopEnableTLSWithoutTLS-600x92_hu_a9c73fbf96cd732b.png 1024w&#34;
	loading=&#34;lazy&#34;
	
		alt=&#34;Enable TLS&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;652&#34;
		data-flex-basis=&#34;1565px&#34;
	
&gt;

&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Yeah, that &amp;ldquo;vulnerable to remote code execution attacks&amp;rdquo; does not encourage to check it. After making the change you have to restart Docker Desktop.&lt;/p&gt;
&lt;p&gt;Now, is it all?&lt;/p&gt;
&lt;p&gt;No. One last thing *). If the switching does not help (and it did not in my case) the problem is in the &lt;code&gt;DOCKER_TLS_VERIFY&lt;/code&gt; environment variable. I had it set to 1 (meaning: enabled), and I had to remove it.&lt;/p&gt;
&lt;p&gt;Then - finally - it started working.&lt;/p&gt;
&lt;p&gt;My final &lt;code&gt;DOCKER_*&lt;/code&gt; environment variables setup:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-powershell&#34; data-lang=&#34;powershell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;Name&lt;/span&gt;                           &lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;----&lt;/span&gt;                           &lt;span class=&#34;p&#34;&gt;-----&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DOCKER_CERT_PATH&lt;/span&gt;               &lt;span class=&#34;n&#34;&gt;C:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Users&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BartekR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;docker&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;machine&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;\\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;certs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DOCKER_HOST&lt;/span&gt;                    &lt;span class=&#34;n&#34;&gt;tcp&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;localhost&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;2375&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DOCKER_MACHINE_NAME&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now I can also work from VSCode + docker extension.&lt;/p&gt;
&lt;p&gt;*) I&amp;rsquo;ve read, that sometimes changing the &lt;code&gt;DOCKER_HOST&lt;/code&gt; to &lt;code&gt;tcp://localhost:2375&lt;/code&gt; did not help, but setting it to &lt;code&gt;tcp://127.0.0.1:2375&lt;/code&gt; did.&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
