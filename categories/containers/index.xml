<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Containers on BartekR</title>
        <link>https://blog.bartekr.net/categories/containers/</link>
        <description>Recent content in Containers on BartekR</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-gb</language>
        <lastBuildDate>Thu, 01 May 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.bartekr.net/categories/containers/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Containers Land: Docker setup on WSL2</title>
        <link>https://blog.bartekr.net/2025/05/01/containers-land-docker-setup-on-wsl2/</link>
        <pubDate>Thu, 01 May 2025 00:00:00 +0000</pubDate>
        
        <guid>https://blog.bartekr.net/2025/05/01/containers-land-docker-setup-on-wsl2/</guid>
        <description>&lt;img src="https://blog.bartekr.net/2025/05/01/containers-land-docker-setup-on-wsl2/images/containers_land_01.png" alt="Featured image of post Containers Land: Docker setup on WSL2" /&gt;&lt;p&gt;Whole series, assumptions, and map: &lt;a class=&#34;link&#34; href=&#34;https://blog.bartekr.net/containers-land&#34; &gt;Container Lands&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The story starts slowly in a small village close to the YAML Mountains. Before you leave your house to learn about containers, you must install Docker. You are brave, you are strong, and you have a Windows operating system. And you want to use WSL2&amp;hellip;&lt;/p&gt;
&lt;h2 id=&#34;-leaving-docker-desktop-behind&#34;&gt;&amp;hellip; leaving Docker Desktop behind
&lt;/h2&gt;&lt;p&gt;Wait. What? Stop for a second. Why not Docker Desktop? It&amp;rsquo;s easy, intuitive, and free? Three reasons, my friend:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It&amp;rsquo;s free for personal use use. Companies need to pay a fee, and sometimes they do not want to buy commercial software hence - use of the docker command in the WSL2 terminal&lt;/li&gt;
&lt;li&gt;I suck at Linux. I know a few commands and some basics (I know how to exit vim!), but I&amp;rsquo;m far from feeling comfortable. I like Ubuntu; I used it a while ago, so why not use it again and upgrade some skills along the way?&lt;/li&gt;
&lt;li&gt;I want to run all commands by hand and remember as many as I can - so I use a terminal&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;If you do not have WSL2 installed, the recent documentation version suggests running the following command in an elevated prompt (as administrator) and restarting your computer:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wsl.exe --install&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This installs the default Ubuntu distribution, but it can sometimes cause issues (in my case - problems with &lt;code&gt;systemctl&lt;/code&gt; and running Docker as daemon), so I use the latest Ubuntu distribution by executing&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wsl.exe --install -d Ubuntu-24.04&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To get the distributions list, execute the command &lt;code&gt;wsl.exe --list --online&lt;/code&gt; and select the value from the left column (NAME) as a parameter. For more information - &lt;a class=&#34;link&#34; href=&#34;https://learn.microsoft.com/en-us/windows/wsl/install&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;visit the official documentation&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;installing-docker-on-wsl&#34;&gt;Installing Docker on WSL
&lt;/h2&gt;&lt;p&gt;While there are installation steps &lt;a class=&#34;link&#34; href=&#34;https://docs.docker.com/engine/install/ubuntu/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;in the official documentation&lt;/a&gt;, I use the way I read a long time ago at &lt;a class=&#34;link&#34; href=&#34;https://nickjanetakis.com/blog/install-docker-in-wsl-2-without-docker-desktop&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Nick Janetakis&amp;rsquo; blog&lt;/a&gt;. I run a sequence of the following commands one by one (not in a script):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Install Docker; you can ignore the warning from Docker about using WSL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -fsSL https://get.docker.com -o get-docker.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo sh get-docker.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Add your user to the Docker group&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo usermod -aG docker &lt;span class=&#34;nv&#34;&gt;$USER&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Sanity check that both tools were installed successfully&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker --version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker compose version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Using Ubuntu 22.04 or Debian 10+? You need to do 1 extra step for iptables&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# compatibility, you&amp;#39;ll want to choose option (1) to use iptables-legacy from&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# the prompt that&amp;#39;ll come up when running the command below.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# You&amp;#39;ll likely need to reboot Windows or at least restart WSL after applying&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# this, otherwise networking inside of your containers won&amp;#39;t work.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo update-alternatives --config iptables
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;As of May 2025, this set of commands is enough to get &lt;code&gt;docker&lt;/code&gt; and &lt;code&gt;docker-compose&lt;/code&gt; up and running. If something is not working, restart your WSL session.&lt;/p&gt;
&lt;p&gt;Well, this was quickâ€”like a very short game prologue. Nevertheless, you earn 100 XP and deserve 1 point to upgrade your statistics. I choose Perception +1&lt;/p&gt;







&lt;div style=&#34;display: flex; align-items: flex-start;&#34;&gt;
    
    
    &lt;table style=&#34;border-collapse: collapse; width: 100%;&#34;&gt;
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Strength&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;7&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Agility&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Endurance&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;5&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Perception&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;5 -&amp;gt; 6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Cunning&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;6&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Charisma&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt;4&lt;/td&gt;
            &lt;/tr&gt;
        
        
        
        
            
            
            &lt;tr&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px; font-weight: bold;&#34;&gt;Level 1&lt;/td&gt;
            &lt;td style=&#34;border: 1px solid #ccc; padding: 8px;&#34;&gt; XP 100 / 300&lt;/td&gt;
            &lt;/tr&gt;
        
        
    &lt;/table&gt;
    &lt;img src=&#34;https://blog.bartekr.net/img/rpg/Jaesika%20Kelamin%20-%20Deorum%20character.png&#34; alt=&#34;RPG Character&#34; style=&#34;max-width: 350px; height: auto;&#34;&gt;&lt;/div&gt;
  
</description>
        </item>
        
    </channel>
</rss>
