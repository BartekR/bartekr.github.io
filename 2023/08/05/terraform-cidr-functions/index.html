<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>Terraform CIDR Functions - BartekR</title>
<meta name="description" content="BartekR blog. Previously known as String or binary data would be truncated">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="twitter:card" content="summary_large_image">

<meta property="og:site_name" content="BartekR">
<meta property="og:title" content="Terraform CIDR Functions">
<meta property="og:description" content="BartekR blog. Previously known as String or binary data would be truncated">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.bartekr.net/2023/08/05/terraform-cidr-functions/">
    <meta property="og:image" content="https://blog.bartekr.net/2023/08/05/terraform-cidr-functions/images/terraform-cidr.png">
    <meta property="og:image:alt" content="">


  <link rel="shortcut icon" href="/favicon.ico">


  <meta name="generator" content="Hugo 0.111.3">
  
            <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/vs2015.min.css">
          <link rel="stylesheet" href="/css/bundle.min.3b1b5f2e683d24b1ea3b5a08c8254622e40aa935e0ead75ba6d45c0f14c2f965.css" integrity="sha256-OxtfLmg9JLHqO1oIyCVGIuQKqTXg6tdbptRcDxTC&#43;WU="><link rel="stylesheet" href="/css/add-on.css">
</head>

  <body>
    

<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/" class="nav">
        
          BartekR blog
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu menu">
      
        
          
          <a href="/about" class="nav link"><i class='far fa-id-card'></i> About</a>
        
      
        
          
          <a href="https://brinf.wordpress.com" class="nav link"><i class='fab fa-wordpress'></i> Blog [PL]</a>
        
      
        
          
          <a href="/series" class="nav link"><i class='fas fa-newspaper'></i> Series</a>
        
      
        
          
          <a href="/books" class="nav link"><i class='fas fa-book-reader'></i> Books</a>
        
      
        
          
          <a href="/speaking" class="nav link"><i class='fas fa-microphone-alt'></i> Speaking</a>
        
      
        
          
          <a href="/categories" class="nav link"><i class='fas fa-object-group'></i> Categories</a>
        
      
        
          
          <a href="/tags" class="nav link"><i class='fas fa-tag'></i> Tags</a>
        
      
      
      <a href="#search-input" class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a>
    </menu>
    <a href="#search-input" class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
    
    <a href="#lang-menu" class="nav lang-toggle" lang="en">en</a>
    <a href="#site-nav" class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="search" class="menu"><input id="search-input" class="search-input menu"></input><div id="search-results" class="search-results menu"></div></menu>
  <menu id="lang-menu" class="flyout-menu menu">
  <a href="#" lang="en" class="nav link active"> (en)</a>
  
    
      
    
  
</menu>

  
</header>

    <div id="wrapper">
      <section id="site-intro" class="hidden-single-column">
  <a href="/"><img src="/img/main/Bartek_SqlSatOslo2019_100x100.png" class="circle" width="100" alt="BartekR profile pic" /></a>
  <header>
    <h1>BartekR</h1>
  </header>
  <main>
    <p>SQL Server. SSIS. PowerShell. Azure.<br/>1 wife. 1 kid. 5 dogs. 10 cats.</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        <li><a href="//github.com/BartekR" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//www.linkedin.com/in/bartoszratajczyk" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/b_ratajczyk" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>










<li><a href="https://dataplatform.social/@b_ratajczyk" target="_blank" rel="me" title="mastodon" class="fab fa-mastodon"></a></li>


      </ul>
    </footer>
  
</section>

      <main id="site-main">
        
  <article>
    <div class="post">
      <header>
  <div class="title">
    
      <h2><a href="/2023/08/05/terraform-cidr-functions/">Terraform CIDR Functions</a></h2>
    
    
  </div>
  <div class="meta">
    <time datetime="2023-08-05 00:00:00 &#43;0000 UTC">August 5, 2023</time>
    
    
  </div>
</header>

      <div id="socnet-share">
        





      </div>
      <div class="content">
        <a href="/2023/08/05/terraform-cidr-functions/" class="image" style="--bg-image: url('/2023/08/05/terraform-cidr-functions/images/terraform-cidr.png');">
    <img src="/2023/08/05/terraform-cidr-functions/images/terraform-cidr.png" alt="">
  </a>
        
        <p>Recently, when I was using Terraform to provision virtual network structure, I had to find a solution to create 4 predefined subnets within a given network range. Initially - as PoC - I used string manipulation to obtain the ranges, but I haven&rsquo;t liked it. Then I found two built-in terraform functions, that are a great help when working with network aspect: <code>cidrsubnet</code> and <code>cidrsubnets</code>.</p>
<h2 id="cidr-notation-101">CIDR notation 101</h2>
<p><a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">Wikipedia</a> states, that</p>
<blockquote>
<p>Classless Inter-Domain Routing (CIDR /ˈsaɪdər, ˈsɪ-/) is a method for allocating IP addresses and for IP routing</p>
</blockquote>
<p>and</p>
<blockquote>
<p>CIDR notation is a compact representation of an IP address and its associated network mask.</p>
</blockquote>
<p>An example would be <code>10.0.0.0/16</code>. This is all nice, but I struggle to remember the CIDR notation stuff, so I always have a short cheatsheet for it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>/16 == 65 536 addresses, ex. 10.0.0.0 - 10.0.255.255
</span></span><span style="display:flex;"><span>/17 == 32 768 addresses
</span></span><span style="display:flex;"><span>/18 == 16 384 addresses
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>/23 ==    512 addresses
</span></span><span style="display:flex;"><span>/24 ==    256 addresses, ex. 10.0.0.0 - 10.0.0.255
</span></span><span style="display:flex;"><span>/25 ==    128 addresses
</span></span><span style="display:flex;"><span>/26 ==     64 addresses
</span></span><span style="display:flex;"><span>/27 ==     32 addresses
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>/32 ==      1 address
</span></span></code></pre></div><p>I work with Azure and I usually see or use <code>/16</code>, <code>/23</code>, <code>/24</code>, <code>/26</code>, and <code>/27</code> networks and subnets. And when I divide a VNet into subnets, I have them of the same size.</p>
<p>An example: <code>/24</code> address space (256 addresses) divided into four equal <code>/26</code> ranges, 64 addresses each:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>vnet:    10.0.0.0/24   -&gt; 256 addresses, 10.0.0.0   - 10.0.0.255
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>subnet0: 10.0.0.0/26   -&gt; 64 addresses,  10.0.0.0   - 10.0.0.63
</span></span><span style="display:flex;"><span>subnet1: 10.0.0.64/26  -&gt; 64 addresses,  10.0.0.64  - 10.0.0.127
</span></span><span style="display:flex;"><span>subnet2: 10.0.0.128/26 -&gt; 64 addresses,  10.0.0.128 - 10.0.0.191
</span></span><span style="display:flex;"><span>subnet3: 10.0.0.192/26 -&gt; 64 addresses,  10.0.0.192 - 10.0.0.255
</span></span></code></pre></div><h2 id="cidr-notation-handling-in-terraform">CIDR notation handling in Terraform</h2>
<p>To avoid mundane string manipulation, and to ease working with CIDR notation Terraform has four functions: <code>cidrhost</code>, <code>cidrnetmask</code>, <code>cidrsubnet</code>, and <code>cidrsubnets</code>. For my purpose, I will use the last two:</p>
<p><code>cidrsubnet(prefix, newbits, netnum)</code> - calculates subnet at <code>netnum</code> position for a given prefix
<code>cidrsubnets(prefix, newbits...)</code> - calculates subsequent subnets for a given prefix</p>
<p>Let&rsquo;s stick to the <code>/24 -&gt; 4 x /26</code> example above. To split the <code>/24</code> VNet into four subnets I can write four <code>cidrsubnet</code> functions:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmd" data-lang="cmd"><span style="display:flex;"><span>D:\temp\_terraform<span style="color:#75715e">&gt; terraform console</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 0)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.0/26&#34;</span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 1)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.64/26&#34;</span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 2)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.128/26&#34;</span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 3)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.192/26&#34;</span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 4)
</span></span><span style="display:flex;"><span>╷
</span></span><span style="display:flex;"><span>│ Error: Error in function call
</span></span><span style="display:flex;"><span>│
</span></span><span style="display:flex;"><span>│   on &lt;console-input&gt; line 1:
</span></span><span style="display:flex;"><span>│   (source code not available)
</span></span><span style="display:flex;"><span>│
</span></span><span style="display:flex;"><span>│ Call to function <span style="color:#e6db74">&#34;cidrsubnet&#34;</span> failed: prefix extension of 2 does not accommodate a subnet numbered 4.
</span></span></code></pre></div><p>I&rsquo;ll explain the above example step by step.</p>
<p>The definition of <code>cidrsubnet</code> is <code>cidrsubnet(prefix, newbits, netnum)</code>. <strong>prefix</strong> is the VNet address space, specified in the CIDR format. In my case: <code>10.244.200.0/24</code>. I want <code>/26</code> subnets, so as <strong>newbits</strong> I pass the value 2, which means <em>dear Terraform, please add 2 to the <code>/24</code> space, to obtain a few <code>/26</code> address ranges</em>. In the background, Terraform splits the <code>/24</code> range into four equal <code>/26</code> subranges, and enumerates them starting from 0. I imagine this as Terraform keeping internally an array of four subnets, like in the example above. If I want the first range, I set <strong>netnum</strong> as <code>0</code>, if I want the third, I set <strong>netnum</strong> as <code>2</code>, etc. And since the <code>/24</code> range is split equally into four <code>/26</code> ranges, I can&rsquo;t assign <strong>newnum == 4</strong>, as the range does not exist.</p>
<p>I can either write four separate <code>cidrsubnet()</code> expressions to get four subnets, or I can ask Terraform to do it for me in one command using <code>cidrsubnets()</code>. Again as a reminder:</p>
<blockquote>
<p><code>cidrsubnets(prefix, newbits...)</code></p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmd" data-lang="cmd"><span style="display:flex;"><span>D:\temp\_terraform<span style="color:#75715e">&gt; terraform console</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnets(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 2, 2, 2)
</span></span><span style="display:flex;"><span>tolist([
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.0/26&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.64/26&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.128/26&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.192/26&#34;</span>,
</span></span><span style="display:flex;"><span>])
</span></span></code></pre></div><p>The above means: <em>dear Terraform, take this <code>/24</code> space, then split it for me into ranges; first take 64 addresses, then again take 64 addresses, then again take 64 addresses, then again take 64 addresses</em>. Terraform knows I want 64 addresses, as he creates subsequent ranges by adding the <strong>newbits</strong> value to the given <code>/24</code> space. This way, he obtains <code>/26</code> range, that contains 64 addresses. Each <strong>newbits</strong> value adds a range to the previously created ones.</p>
<p>It&rsquo;s still unclear, so let&rsquo;s go again with an example:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>                 cidrsubnets(&#34;10.244.200.0/24&#34;, 2, 2, 2, 2)
</span></span><span style="display:flex;"><span>                                           |    |  |  |  |
</span></span><span style="display:flex;"><span>                        /24 address space -+    |  |  |  |
</span></span><span style="display:flex;"><span>     /26 address space (/24 + 2), 64 addresses -+  |  |  | 10.244.200.0   .. 10.244.200.63
</span></span><span style="display:flex;"><span>     /26 address space (/24 + 2), 64 addresses ----+  |  | 10.244.200.64  .. 10.244.200.127
</span></span><span style="display:flex;"><span>     /26 address space (/24 + 2), 64 addresses -------+  | 10.244.200.128 .. 10.244.200.191
</span></span><span style="display:flex;"><span>     /26 address space (/24 + 2), 64 addresses ----------+ 10.244.200.192 .. 10.244.200.255
</span></span></code></pre></div><p>Using these techniques, I can split my address range in multiple ways, and I do not have to stick to the one <strong>newbits</strong> value. Both examples below are equivalent:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmd" data-lang="cmd"><span style="display:flex;"><span>D:\temp\_terraform<span style="color:#75715e">&gt; terraform console</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnets(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 2, 3, 3, 2)
</span></span><span style="display:flex;"><span>tolist([  
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.0/26&#34;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.64/26&#34;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.128/27&#34;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.160/27&#34;</span>,  
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.192/26&#34;</span>,  
</span></span><span style="display:flex;"><span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 0)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.0/26&#34;</span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 1)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.64/26&#34;</span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 3, 4)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.128/27&#34;</span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 3, 5)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.160/27&#34;</span>
</span></span><span style="display:flex;"><span>&gt; cidrsubnet(<span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>, 2, 3)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;10.244.200.192/26&#34;</span>
</span></span></code></pre></div><p>One thing to remember when using <code>cidrsubnet()</code> - it splits the initial range into an equal number of subranges. So in the example above I want <code>/26</code> and <code>/27</code> subnets, so Terraform creates these arrays in the background:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmd" data-lang="cmd"><span style="display:flex;"><span>tolist([
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.0/26&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.64/26&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.128/26&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.192/26&#34;</span>,
</span></span><span style="display:flex;"><span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tolist([
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.0/27&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.32/27&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.64/27&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.96/27&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.128/27&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.160/27&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.192/27&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;10.244.200.224/27&#34;</span>,
</span></span><span style="display:flex;"><span>])
</span></span></code></pre></div><p>As the first <code>/26</code> range encompasses the first two <code>/27</code> ranges, and the second <code>/26</code> range encompasses the third and fourth <code>/27</code> ranges, I need to use <strong>netnum == 4</strong> (fifth range) for the third subnet.</p>
<p>For completness the <code>cidrsubnets(&quot;10.244.200.0/24&quot;, 2, 2, 3, 3, 2)</code> diagram</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>                 cidrsubnets(&#34;10.244.200.0/24&#34;, 2, 2, 3, 3, 2)
</span></span><span style="display:flex;"><span>                                           |    |  |  |  |  |
</span></span><span style="display:flex;"><span>                        /24 address space -+    |  |  |  |  |
</span></span><span style="display:flex;"><span>     /26 address space (/24 + 2), 64 addresses -+  |  |  |  | 10.244.200.0   .. 10.244.200.63
</span></span><span style="display:flex;"><span>     /26 address space (/24 + 2), 64 addresses ----+  |  |  | 10.244.200.64  .. 10.244.200.127
</span></span><span style="display:flex;"><span>     /27 address space (/24 + 3), 32 addresses -------+  |  | 10.244.200.128 .. 10.244.200.159
</span></span><span style="display:flex;"><span>     /27 address space (/24 + 3), 32 addresses ----------+  | 10.244.200.160 .. 10.244.200.191
</span></span><span style="display:flex;"><span>     /26 address space (/24 + 2), 64 addresses -------------+ 10.244.200.192 .. 10.244.200.255
</span></span></code></pre></div><h2 id="assign-ranges-to-subnets">Assign ranges to subnets</h2>
<p>Once I know how to use <code>cidrsubnet()</code> and <code>cidrsubnets()</code> functions, I can assing ranges to the subnets. Let&rsquo;s say, I have this kind of network segmentation:</p>
<ul>
<li><strong>subnetA</strong> range 10.x.y.0 .. 10.x.y.63</li>
<li><strong>subnetB</strong> range 10.x.y.64 .. 10.x.y.127</li>
<li><strong>subnetC</strong> range 10.x.y.128 .. 10.x.y.191</li>
<li><strong>subnetD</strong> range 10.x.y.191 .. 10.x.y.255</li>
</ul>
<p>With this terraform code I can create subnets for a given virtual network:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-terraform" data-lang="terraform"><span style="display:flex;"><span><span style="color:#66d9ef">provider</span> <span style="color:#e6db74">&#34;azurerm&#34;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">features</span> {}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">locals</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">vnet1_address_space</span> = <span style="color:#e6db74">&#34;10.244.200.0/24&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">vnet2_address_space</span> = <span style="color:#e6db74">&#34;10.244.204.0/24&#34;</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">subnets</span>       = {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;subnetA&#34;</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;subnetB&#34;</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;subnetC&#34;</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;subnetD&#34;</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>  }<span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  # for cidrsubnets() approach
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">subnet_ranges</span> = <span style="color:#a6e22e">cidrsubnets</span>(<span style="color:#a6e22e">local</span>.<span style="color:#a6e22e">vnet2_address_space</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">resource</span> <span style="color:#e6db74">&#34;azurerm_resource_group&#34;</span> <span style="color:#e6db74">&#34;rg&#34;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span>     = <span style="color:#e6db74">&#34;rg-shared-networking&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">location</span> = <span style="color:#e6db74">&#34;West Europe&#34;</span>
</span></span><span style="display:flex;"><span>}<span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"># using cidrsubnet()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">resource</span> <span style="color:#e6db74">&#34;azurerm_virtual_network&#34;</span> <span style="color:#e6db74">&#34;vnet1&#34;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span>                = <span style="color:#e6db74">&#34;vnet-shared1&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">address_space</span>       = [<span style="color:#a6e22e">local</span>.<span style="color:#a6e22e">vnet1_address_space</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">location</span>            = <span style="color:#a6e22e">azurerm_resource_group</span>.<span style="color:#a6e22e">rg</span>.<span style="color:#a6e22e">location</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">resource_group_name</span> = <span style="color:#a6e22e">azurerm_resource_group</span>.<span style="color:#a6e22e">rg</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">resource</span> <span style="color:#e6db74">&#34;azurerm_subnet&#34;</span> <span style="color:#e6db74">&#34;snet1&#34;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">resource_group_name</span>  = <span style="color:#a6e22e">azurerm_resource_group</span>.<span style="color:#a6e22e">rg</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">virtual_network_name</span> = <span style="color:#a6e22e">azurerm_virtual_network</span>.<span style="color:#a6e22e">vnet1</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">for_each</span>             = <span style="color:#a6e22e">local</span>.<span style="color:#a6e22e">subnets</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span>                 = <span style="color:#e6db74">&#34;snet-</span><span style="color:#e6db74">${</span>each.<span style="color:#a6e22e">key</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">address_prefixes</span>     = [cidrsubnet(<span style="color:#a6e22e">local</span>.<span style="color:#a6e22e">vnet1_address_space</span>, <span style="color:#ae81ff">2</span>, each.<span style="color:#a6e22e">value</span>)]
</span></span><span style="display:flex;"><span>}<span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"># using cidrsubnets()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">resource</span> <span style="color:#e6db74">&#34;azurerm_virtual_network&#34;</span> <span style="color:#e6db74">&#34;vnet2&#34;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span>                = <span style="color:#e6db74">&#34;vnet-shared2&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">address_space</span>       = [<span style="color:#a6e22e">local</span>.<span style="color:#a6e22e">vnet2_address_space</span>]
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">location</span>            = <span style="color:#a6e22e">azurerm_resource_group</span>.<span style="color:#a6e22e">rg</span>.<span style="color:#a6e22e">location</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">resource_group_name</span> = <span style="color:#a6e22e">azurerm_resource_group</span>.<span style="color:#a6e22e">rg</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">
</span></span></span><span style="display:flex;"><span><span style="color:#66d9ef">resource</span> <span style="color:#e6db74">&#34;azurerm_subnet&#34;</span> <span style="color:#e6db74">&#34;snet2&#34;</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">resource_group_name</span>  = <span style="color:#a6e22e">azurerm_resource_group</span>.<span style="color:#a6e22e">rg</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">virtual_network_name</span> = <span style="color:#a6e22e">azurerm_virtual_network</span>.<span style="color:#a6e22e">vnet2</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">for_each</span>             = <span style="color:#a6e22e">local</span>.<span style="color:#a6e22e">subnets</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">name</span>                 = <span style="color:#e6db74">&#34;snet-</span><span style="color:#e6db74">${</span>each.<span style="color:#a6e22e">key</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">address_prefixes</span>     = [<span style="color:#a6e22e">local</span>.<span style="color:#a6e22e">subnet_ranges</span>[each.<span style="color:#a6e22e">value</span>]]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>When run with <code>terraform plan</code>, the code above produces this output:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols:
</span></span><span style="display:flex;"><span>  + create
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Terraform will perform the following actions:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_resource_group.rg will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_resource_group&#34; &#34;rg&#34; {
</span></span><span style="display:flex;"><span>      + id       = (known after apply)
</span></span><span style="display:flex;"><span>      + location = &#34;westeurope&#34;
</span></span><span style="display:flex;"><span>      + name     = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_subnet.snet1[&#34;subnetA&#34;] will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_subnet&#34; &#34;snet1&#34; {
</span></span><span style="display:flex;"><span>      + address_prefixes                               = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.200.0/26&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + enforce_private_link_endpoint_network_policies = (known after apply)
</span></span><span style="display:flex;"><span>      + enforce_private_link_service_network_policies  = (known after apply)
</span></span><span style="display:flex;"><span>      + id                                             = (known after apply)
</span></span><span style="display:flex;"><span>      + name                                           = &#34;snet-subnetA&#34;
</span></span><span style="display:flex;"><span>      + private_endpoint_network_policies_enabled      = (known after apply)
</span></span><span style="display:flex;"><span>      + private_link_service_network_policies_enabled  = (known after apply)
</span></span><span style="display:flex;"><span>      + resource_group_name                            = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + virtual_network_name                           = &#34;vnet-shared1&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_subnet.snet1[&#34;subnetB&#34;] will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_subnet&#34; &#34;snet1&#34; {
</span></span><span style="display:flex;"><span>      + address_prefixes                               = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.200.64/26&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + enforce_private_link_endpoint_network_policies = (known after apply)
</span></span><span style="display:flex;"><span>      + enforce_private_link_service_network_policies  = (known after apply)
</span></span><span style="display:flex;"><span>      + id                                             = (known after apply)
</span></span><span style="display:flex;"><span>      + name                                           = &#34;snet-subnetB&#34;
</span></span><span style="display:flex;"><span>      + private_endpoint_network_policies_enabled      = (known after apply)
</span></span><span style="display:flex;"><span>      + private_link_service_network_policies_enabled  = (known after apply)
</span></span><span style="display:flex;"><span>      + resource_group_name                            = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + virtual_network_name                           = &#34;vnet-shared1&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_subnet.snet1[&#34;subnetC&#34;] will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_subnet&#34; &#34;snet1&#34; {
</span></span><span style="display:flex;"><span>      + address_prefixes                               = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.200.128/26&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + enforce_private_link_endpoint_network_policies = (known after apply)
</span></span><span style="display:flex;"><span>      + enforce_private_link_service_network_policies  = (known after apply)
</span></span><span style="display:flex;"><span>      + id                                             = (known after apply)
</span></span><span style="display:flex;"><span>      + name                                           = &#34;snet-subnetC&#34;
</span></span><span style="display:flex;"><span>      + private_endpoint_network_policies_enabled      = (known after apply)
</span></span><span style="display:flex;"><span>      + private_link_service_network_policies_enabled  = (known after apply)
</span></span><span style="display:flex;"><span>      + resource_group_name                            = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + virtual_network_name                           = &#34;vnet-shared1&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_subnet.snet1[&#34;subnetD&#34;] will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_subnet&#34; &#34;snet1&#34; {
</span></span><span style="display:flex;"><span>      + address_prefixes                               = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.200.192/26&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + enforce_private_link_endpoint_network_policies = (known after apply)
</span></span><span style="display:flex;"><span>      + enforce_private_link_service_network_policies  = (known after apply)
</span></span><span style="display:flex;"><span>      + id                                             = (known after apply)
</span></span><span style="display:flex;"><span>      + name                                           = &#34;snet-subnetD&#34;
</span></span><span style="display:flex;"><span>      + private_endpoint_network_policies_enabled      = (known after apply)
</span></span><span style="display:flex;"><span>      + private_link_service_network_policies_enabled  = (known after apply)
</span></span><span style="display:flex;"><span>      + resource_group_name                            = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + virtual_network_name                           = &#34;vnet-shared1&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_subnet.snet2[&#34;subnetA&#34;] will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_subnet&#34; &#34;snet2&#34; {
</span></span><span style="display:flex;"><span>      + address_prefixes                               = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.204.0/26&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + enforce_private_link_endpoint_network_policies = (known after apply)
</span></span><span style="display:flex;"><span>      + enforce_private_link_service_network_policies  = (known after apply)
</span></span><span style="display:flex;"><span>      + id                                             = (known after apply)
</span></span><span style="display:flex;"><span>      + name                                           = &#34;snet-subnetA&#34;
</span></span><span style="display:flex;"><span>      + private_endpoint_network_policies_enabled      = (known after apply)
</span></span><span style="display:flex;"><span>      + private_link_service_network_policies_enabled  = (known after apply)
</span></span><span style="display:flex;"><span>      + resource_group_name                            = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + virtual_network_name                           = &#34;vnet-shared2&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_subnet.snet2[&#34;subnetB&#34;] will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_subnet&#34; &#34;snet2&#34; {
</span></span><span style="display:flex;"><span>      + address_prefixes                               = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.204.64/26&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + enforce_private_link_endpoint_network_policies = (known after apply)
</span></span><span style="display:flex;"><span>      + enforce_private_link_service_network_policies  = (known after apply)
</span></span><span style="display:flex;"><span>      + id                                             = (known after apply)
</span></span><span style="display:flex;"><span>      + name                                           = &#34;snet-subnetB&#34;
</span></span><span style="display:flex;"><span>      + private_endpoint_network_policies_enabled      = (known after apply)
</span></span><span style="display:flex;"><span>      + private_link_service_network_policies_enabled  = (known after apply)
</span></span><span style="display:flex;"><span>      + resource_group_name                            = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + virtual_network_name                           = &#34;vnet-shared2&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_subnet.snet2[&#34;subnetC&#34;] will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_subnet&#34; &#34;snet2&#34; {
</span></span><span style="display:flex;"><span>      + address_prefixes                               = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.204.128/26&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + enforce_private_link_endpoint_network_policies = (known after apply)
</span></span><span style="display:flex;"><span>      + enforce_private_link_service_network_policies  = (known after apply)
</span></span><span style="display:flex;"><span>      + id                                             = (known after apply)
</span></span><span style="display:flex;"><span>      + name                                           = &#34;snet-subnetC&#34;
</span></span><span style="display:flex;"><span>      + private_endpoint_network_policies_enabled      = (known after apply)
</span></span><span style="display:flex;"><span>      + private_link_service_network_policies_enabled  = (known after apply)
</span></span><span style="display:flex;"><span>      + resource_group_name                            = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + virtual_network_name                           = &#34;vnet-shared2&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_subnet.snet2[&#34;subnetD&#34;] will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_subnet&#34; &#34;snet2&#34; {
</span></span><span style="display:flex;"><span>      + address_prefixes                               = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.204.192/26&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + enforce_private_link_endpoint_network_policies = (known after apply)
</span></span><span style="display:flex;"><span>      + enforce_private_link_service_network_policies  = (known after apply)
</span></span><span style="display:flex;"><span>      + id                                             = (known after apply)
</span></span><span style="display:flex;"><span>      + name                                           = &#34;snet-subnetD&#34;
</span></span><span style="display:flex;"><span>      + private_endpoint_network_policies_enabled      = (known after apply)
</span></span><span style="display:flex;"><span>      + private_link_service_network_policies_enabled  = (known after apply)
</span></span><span style="display:flex;"><span>      + resource_group_name                            = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + virtual_network_name                           = &#34;vnet-shared2&#34;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_virtual_network.vnet1 will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_virtual_network&#34; &#34;vnet1&#34; {
</span></span><span style="display:flex;"><span>      + address_space       = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.200.0/24&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + dns_servers         = (known after apply)
</span></span><span style="display:flex;"><span>      + guid                = (known after apply)
</span></span><span style="display:flex;"><span>      + id                  = (known after apply)
</span></span><span style="display:flex;"><span>      + location            = &#34;westeurope&#34;
</span></span><span style="display:flex;"><span>      + name                = &#34;vnet-shared1&#34;
</span></span><span style="display:flex;"><span>      + resource_group_name = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + subnet              = (known after apply)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  # azurerm_virtual_network.vnet2 will be created
</span></span><span style="display:flex;"><span>  + resource &#34;azurerm_virtual_network&#34; &#34;vnet2&#34; {
</span></span><span style="display:flex;"><span>      + address_space       = [
</span></span><span style="display:flex;"><span>          + &#34;10.244.204.0/24&#34;,
</span></span><span style="display:flex;"><span>        ]
</span></span><span style="display:flex;"><span>      + dns_servers         = (known after apply)
</span></span><span style="display:flex;"><span>      + guid                = (known after apply)
</span></span><span style="display:flex;"><span>      + id                  = (known after apply)
</span></span><span style="display:flex;"><span>      + location            = &#34;westeurope&#34;
</span></span><span style="display:flex;"><span>      + name                = &#34;vnet-shared2&#34;
</span></span><span style="display:flex;"><span>      + resource_group_name = &#34;rg-shared-networking&#34;
</span></span><span style="display:flex;"><span>      + subnet              = (known after apply)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Plan: 11 to add, 0 to change, 0 to destroy.
</span></span></code></pre></div>
      </div>
      <footer>
        <div class="stats">
  
    <ul class="categories">
      
        
          <li><a class="article-terms-link" href="/categories/iac/">IaC</a></li>
        
      
    </ul>
  
  
    <ul class="tags">
      
        
          <li><a class="article-terms-link" href="/tags/terraform/">terraform</a></li>
        
          <li><a class="article-terms-link" href="/tags/cidr/">cidr</a></li>
        
      
    </ul>
  
</div>

      </footer>
    </div>
    
      <script src="https://utteranc.es/client.js"
        repo="BartekR/bartekr.github.io"
        issue-term="url"
        label="blog-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
    
  </article>
  <div class="pagination">
    
    
      <a href="/2022/10/31/build-your-sql-server-vm-using-cdktf/" class="button right"><span>Build your SQL Server VM using CdkTf</span></a>
    
  </div>

      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1>Recent Posts</h1>
      </header>
      
      <article class="mini-post">
          <a href="/2023/08/05/terraform-cidr-functions/" class="image" style="--bg-image: url('/2023/08/05/terraform-cidr-functions/images/terraform-cidr.png');">
    <img src="/2023/08/05/terraform-cidr-functions/images/terraform-cidr.png" alt="">
  </a>
        <header>
          <h2><a href="/2023/08/05/terraform-cidr-functions/">Terraform CIDR Functions</a></h2>
          <time class="published" datetime="2023-08-05 00:00:00 &#43;0000 UTC">August 5, 2023</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/2022/10/31/build-your-sql-server-vm-using-cdktf/" class="image" style="--bg-image: url('/2022/10/31/build-your-sql-server-vm-using-cdktf/images/cdktf.help.png');">
    <img src="/2022/10/31/build-your-sql-server-vm-using-cdktf/images/cdktf.help.png" alt="">
  </a>
        <header>
          <h2><a href="/2022/10/31/build-your-sql-server-vm-using-cdktf/">Build your SQL Server VM using CdkTf</a></h2>
          <time class="published" datetime="2022-10-31 00:00:00 &#43;0000 UTC">October 31, 2022</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/2021/11/28/end-to-end-testing-with-playwright-part-ii/" class="image" style="--bg-image: url('/2021/11/28/end-to-end-testing-with-playwright-part-ii/images/Header.png');">
    <img src="/2021/11/28/end-to-end-testing-with-playwright-part-ii/images/Header.png" alt="">
  </a>
        <header>
          <h2><a href="/2021/11/28/end-to-end-testing-with-playwright-part-ii/">End-to-End testing with Playwright, part II</a></h2>
          <time class="published" datetime="2021-11-28 00:00:00 &#43;0000 UTC">November 28, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/2021/11/13/end-to-end-testing-with-playwright-part-i/" class="image" style="--bg-image: url('/2021/11/13/end-to-end-testing-with-playwright-part-i/images/Header.png');">
    <img src="/2021/11/13/end-to-end-testing-with-playwright-part-i/images/Header.png" alt="">
  </a>
        <header>
          <h2><a href="/2021/11/13/end-to-end-testing-with-playwright-part-i/">End-to-End testing with Playwright, part I</a></h2>
          <time class="published" datetime="2021-11-13 00:00:00 &#43;0000 UTC">November 13, 2021</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/2021/06/13/read-data-from-azure-blob-storage-to-azure-sql-database/" class="image" style="--bg-image: url('/2021/06/13/read-data-from-azure-blob-storage-to-azure-sql-database/images/StorageAccountContent.png');">
    <img src="/2021/06/13/read-data-from-azure-blob-storage-to-azure-sql-database/images/StorageAccountContent.png" alt="">
  </a>
        <header>
          <h2><a href="/2021/06/13/read-data-from-azure-blob-storage-to-azure-sql-database/">Read Data From Azure Blob Storage to Azure SQL Database</a></h2>
          <time class="published" datetime="2021-06-13 00:00:00 &#43;0000 UTC">June 13, 2021</time>
        </header>
      </article>
      
      
        <footer>
          <a href="/post/" class="button">See More</a>
        </footer>
      
    </section>
  

  
    

      <section id="categories">
        <header>
          <h1><a href="/categories">Categories</a></h1>
        </header>
        <ul>
          
          
          <li>
              <a href="/categories/learning/">learning<span class="count">17</span></a>
          
          <li>
              <a href="/categories/series/">series<span class="count">13</span></a>
          
          <li>
              <a href="/categories/testing/">testing<span class="count">13</span></a>
          
          <li>
              <a href="/categories/ssis-internals/">ssis-internals<span class="count">5</span></a>
          
          <li>
              <a href="/categories/azure/">azure<span class="count">3</span></a>
          
          <li>
              <a href="/categories/sql-server/">sql-server<span class="count">3</span></a>
          
          <li>
              <a href="/categories/admin/">admin<span class="count">2</span></a>
          
          <li>
              <a href="/categories/iac/">iac<span class="count">2</span></a>
          
          <li>
              <a href="/categories/internals/">internals<span class="count">2</span></a>
          
          <li>
              <a href="/categories/programming/">programming<span class="count">2</span></a>
          
          <li>
              <a href="/categories/troubleshooting/">troubleshooting<span class="count">2</span></a>
          
          <li>
              <a href="/categories/advent-of-code/">advent-of-code<span class="count">1</span></a>
          
          <li>
              <a href="/categories/conferences/">conferences<span class="count">1</span></a>
          
          <li>
              <a href="/categories/not-so-technical/">not-so-technical<span class="count">1</span></a>
          
          <li>
              <a href="/categories/tfs/">tfs<span class="count">1</span></a>
          
          </li>
        </ul>
      </section>
    
  

  
    <section id="mini-bio">
      <header>
        <h1>About</h1>
      </header>
      <p>Posts about SQL Server, SSIS and automation for my future self, but you might find something useful.</p>
      <footer>
        <a href="/about" class="button">Learn More</a>
      </footer>
    </section>
  
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        <li><a href="//github.com/BartekR" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>











<li><a href="//www.linkedin.com/in/bartoszratajczyk" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/b_ratajczyk" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>










<li><a href="https://dataplatform.social/@b_ratajczyk" target="_blank" rel="me" title="mastodon" class="fab fa-mastodon"></a></li>


      </ul>
  
  <p class="copyright">
    © 2023 BartekR
      <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.111.3' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

      <script src="/js/highlight.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/languages/powershell.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/languages/csharp.min.js"></script>
    <script>hljs.highlightAll();</script><script src="/js/bundle.min.f72976e0792ea04ce48a8d3f9c1df860088d63449f373d5815df8cea5df2bb72.js" integrity="sha256-9yl24HkuoEzkio0/nB34YAiNY0SfNz1YFd&#43;M6l3yu3I="></script>
    <script src="/js/add-on.js"></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-109318393-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </div>
  </body>
</html>
